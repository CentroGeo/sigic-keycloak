import{jsxs as a,Fragment as I,jsx as e}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,l as V,e as A,V as C,b as F,d as j,bj as x,P as D,n as G,A as H,h as l,L as w,cH as E,q as L,cI as T}from"./main-Dml5vH_M.js";import{D as q}from"./DynamicComponents-Cxsqsl9R.js";import{F as z}from"./FormAccess-Dgk035ov.js";import{V as B}from"./ViewHeader-CnGpO8mW.js";import{u as K}from"./useParams-Cmi1OAEj.js";import{G as M}from"./GeneralSettings-DkFjDz2h.js";import"react-dom";import"./ClientSelect-DJq4F1jh.js";import"./FileUpload-B3CkDAbJ.js";import"./GroupPickerDialog-eQJqBPQt.js";import"./DataListItemRow-B3J1tfyO.js";import"./KeySelect-Ba6sDuzD.js";import"./MultiLineInput-BnUu5qtj.js";import"./AddRoleMappingModal-FlNvMd3n.js";import"./translationFormatter-DtFomvax.js";import"./useLocaleSort-DeXbTEE9.js";import"./ConfirmDialog-BN0phSta.js";import"./filter-icon-BO7Evf9d.js";import"./CodeEditor-C7HQ48Ys.js";import"./ClientIdSecret-CkCa_19T.js";import"./RedirectUrl-D3h2eZTv.js";function pr(){const{adminClient:p}=S(),{t:i}=k(),{providerId:r}=K(),o=V({mode:"onChange"}),n=A(),m=b(()=>{const t=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const s of t){const c=n.componentTypes?.[s]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:f}}=o,{addAlert:v,addError:y}=C(),g=F(),{realm:d}=j(),P=async t=>{try{await p.identityProviders.create({...t,providerId:r,alias:t.alias}),v(i("createIdentityProviderSuccess"),L.success),g(T({realm:d,providerId:r,alias:t.alias,tab:"settings"}))}catch(s){y("createError",s)}};return o.getValues("alias")||o.setValue("alias",r),a(I,{children:[e(B,{titleKey:i("addIdentityProvider",{provider:x(r)})}),e(D,{variant:"light",children:a(z,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[a(G,{...o,children:[e(M,{id:r}),m&&e(q,{stringify:!0,properties:m.properties})]}),a(H,{children:[e(l,{isDisabled:!f,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),e(l,{variant:"link","data-testid":"cancel",component:t=>e(w,{...t,to:E({realm:d})}),children:i("cancel")})]})]})})]})}export{pr as default};
//# sourceMappingURL=AddIdentityProvider-DB3lFTpG.js.map
