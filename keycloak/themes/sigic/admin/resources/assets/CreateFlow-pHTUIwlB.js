import{jsxs as r,Fragment as w,jsx as a}from"react/jsx-runtime";import{u as h,a as F,b,d as v,V as y,l as g,P as S,n as A,$ as C,A as V,aq as I,h as T,L as H,am as L,q as i,ao as N}from"./main-Dml5vH_M.js";import{F as P}from"./FormAccess-Dgk035ov.js";import{V as k}from"./ViewHeader-CnGpO8mW.js";import{N as x}from"./NameDescription-J_2q-E71.js";import"react";import"react-dom";const c=["basic-flow","client-flow"];function M(){const{adminClient:m}=h(),{t:e}=F(),u=b(),{realm:n}=v(),{addAlert:l}=y(),s=g(),{handleSubmit:d,formState:p}=s;return r(w,{children:[a(k,{titleKey:"createFlow",subKey:"authenticationCreateFlowHelp"}),a(S,{variant:"light",children:a(A,{...s,children:r(P,{isHorizontal:!0,role:"manage-authorization",onSubmit:d(async t=>{const f={...t,builtIn:!1,topLevel:!0};try{const{id:o}=await m.authenticationManagement.createFlow(f);l(e("flowCreatedSuccess"),i.success),u(N({realm:n,id:o,usedBy:"notInUse"}))}catch(o){l(e("flowCreateError",{error:o.response?.data?.errorMessage||o}),i.danger)}}),children:[a(x,{}),a(C,{name:"providerId",label:e("flowType"),labelIcon:e("topLevelFlowTypeHelp"),"aria-label":e("selectFlowType"),controller:{defaultValue:c[0]},options:c.map(t=>({key:t,value:e(`top-level-flow-type.${t}`)}))}),r(V,{children:[a(I,{formState:p,"data-testid":"create",allowInvalid:!0,allowNonDirty:!0,children:e("create")}),a(T,{"data-testid":"cancel",variant:"link",component:t=>a(H,{...t,to:L({realm:n})}),children:e("cancel")})]})]})})})]})}export{M as default};
//# sourceMappingURL=CreateFlow-pHTUIwlB.js.map
