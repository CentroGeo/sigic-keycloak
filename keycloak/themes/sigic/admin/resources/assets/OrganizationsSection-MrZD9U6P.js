import{jsxs as s,Fragment as B,jsx as e}from"react/jsx-runtime";import{u as C,d as K,a as V,V as v,b as x,B as A,P,e2 as S,f as E,e3 as c,T as I,h as L,L as d,cQ as T}from"./main-Dml5vH_M.js";import{useState as l}from"react";import{u as k}from"./ConfirmDialog-BN0phSta.js";import{V as w}from"./ViewHeader-CnGpO8mW.js";import"react-dom";function q(){const{adminClient:o}=C(),{realm:n}=K(),{t:a}=V(),{addAlert:g,addError:m}=v(),u=x(),[r,f]=l(0),z=()=>f(r+1),[y,p]=l();async function h(t,i,b){return await o.organizations.find({first:t,max:i,search:b})}const[O,D]=k({titleKey:"organizationDelete",messageKey:"organizationDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:A.danger,onConfirm:async()=>{try{await o.organizations.delById({id:y.id}),g(a("organizationDeletedSuccess")),z()}catch(t){m("organizationDeleteError",t)}}});return s(B,{children:[e(w,{titleKey:"organizationsList",subKey:"organizationsExplain",divider:!0}),s(P,{variant:"light",className:"pf-v5-u-p-0",children:[e(D,{}),e(S,{link:({organization:t,children:i})=>e(d,{to:T({realm:n,id:t.id,tab:"settings"}),children:i},t.id),loader:h,searchPlaceholderKey:"searchOrganization",isPaginated:!0,toolbarItem:e(I,{children:e(L,{"data-testid":"addOrganization",component:t=>e(d,{...t,to:c({realm:n})}),children:a("createOrganization")})}),onDelete:t=>{p(t),O()},children:e(E,{message:a("emptyOrganizations"),instructions:a("emptyOrganizationsInstructions"),primaryActionText:a("createOrganization"),onPrimaryAction:()=>u(c({realm:n}))})},r)]})]})}export{q as default};
//# sourceMappingURL=OrganizationsSection-MrZD9U6P.js.map
