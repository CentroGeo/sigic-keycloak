import{jsx as e,jsxs as S,Fragment as T}from"react/jsx-runtime";import{useState as O}from"react";import{u as x,a as y,V as F,ag as f,ah as u,q as b,aj as C,T as g,ai as D,aI as k,aJ as A,D as E}from"./main-Dml5vH_M.js";import{g as $,b as P,f as j,c as L,A as m}from"./ClientScopeTypes-DwzbyHD6.js";import{F as V}from"./filter-icon-BO7Evf9d.js";const z=({clientId:n,selectedRows:l,refresh:r})=>{const{adminClient:p}=x(),{t:a}=y(),[i,t]=O(!1),{addAlert:s,addError:c}=F();return e(f,{"aria-label":"change-type-to",onOpenChange:o=>t(o),isOpen:i,toggle:o=>e(C,{id:"change-type-dropdown",isDisabled:l.length===0,ref:o,onClick:()=>t(!i),isExpanded:i,children:a("changeTypeTo")}),onSelect:async(o,d)=>{try{await Promise.all(l.map(h=>n?j(p,n,h,h.type,d):L(p,h,d))),t(!1),r(),s(a("clientScopeSuccess"),b.success)}catch(h){c("clientScopeError",h)}},children:e(u,{children:$(a,n?void 0:P)})})},_=["all","saml","openid-connect"],B=(n="")=>l=>l.name?.includes(n),G=n=>l=>n===m.none||l.type===n,H=n=>l=>n==="all"||l.protocol===n,w=({searchType:n,withProtocol:l=!1,onSelect:r})=>{const{t:p}=y(),[a,i]=O(!1),t=c=>e(E,{onClick:()=>{r(c),i(!1)},children:p(`clientScopeSearch.${c}`)},c),s=[t("name"),t("type")];return l&&s.push(t("protocol")),e(k,{onOpenChange:c=>i(c),toggle:c=>S(C,{"data-testid":"clientScopeSearch",ref:c,id:"toggle-id",onClick:()=>i(!a),children:[e(V,{})," ",p(`clientScopeSearch.${n}`)]}),isOpen:a,children:e(A,{children:s})})},K=({searchType:n,onSelect:l,type:r,onType:p,protocol:a,onProtocol:i})=>{const{t}=y(),[s,c]=O(!1);return S(T,{children:[n==="type"&&S(T,{children:[e(g,{children:e(w,{searchType:n,onSelect:l,withProtocol:!!a})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchType",ref:o,isExpanded:s,onClick:()=>c(!s),children:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`)}),onOpenChange:o=>c(o),isOpen:s,selected:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`),onSelect:(o,d)=>{p(d),c(!1)},children:S(u,{children:[e(D,{value:m.none,children:t("allTypes")}),$(t)]})})})]}),n==="protocol"&&!!a&&S(T,{children:[e(g,{children:e(w,{searchType:n,onSelect:l,withProtocol:!0})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchProtocol",ref:o,isExpanded:s,onClick:()=>c(!s),children:t(`protocolTypes.${a}`)}),onOpenChange:o=>c(o),isOpen:s,selected:t(`protocolTypes.${a}`),onSelect:(o,d)=>{i?.(d),c(!1)},children:e(u,{children:_.map(o=>e(D,{value:o,children:t(`protocolTypes.${o}`)},o))})})})]})]})};export{z as C,K as S,w as a,B as n,H as p,G as t};
//# sourceMappingURL=SearchFilter-CfoaCrQT.js.map
