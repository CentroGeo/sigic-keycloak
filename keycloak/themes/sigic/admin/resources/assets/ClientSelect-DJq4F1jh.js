import{jsx as k}from"react/jsx-runtime";import{u as q,a as F,c as O,Z as P,J as V,j as d,$}from"./main-Dml5vH_M.js";import{useState as i}from"react";const T=({name:o,label:m,helpText:f,defaultValue:c,isDisabled:p=!1,isRequired:C,variant:v="typeahead",clientKey:a="clientId",placeholderText:h})=>{const{adminClient:n}=q(),{t:s}=F(),[I,g]=i([]),[x,S]=i(),[l,b]=i(""),{tab:u}=O(),{control:y}=P(),r=V({control:y,name:o,defaultValue:c||""}),j=()=>typeof r=="string"?[r]:r||[];return d(()=>{const e={max:20};return l&&(e.clientId=l,e.search=!0),n.clients.find(e)},e=>g(e),[l]),d(()=>{const e=j().map(async t=>a==="clientId"?(await n.clients.find({clientId:t}))[0]:n.clients.findOne({id:t}));return Promise.all(e)},e=>{S(e.filter(t=>!!t).map(t=>({key:t[a],value:t.clientId})))},[]),k($,{name:o,label:s(u!=="evaluation"?m:"client"),labelIcon:s(u!=="evaluation"?f:"selectClient"),controller:{defaultValue:c||"",rules:{required:{value:C||!1,message:s("required")}}},onFilter:e=>b(e),variant:v,isDisabled:p,selectedOptions:x,options:I.map(e=>({key:e[a],value:e.clientId})),placeholderText:h})};export{T as C};
//# sourceMappingURL=ClientSelect-DJq4F1jh.js.map
