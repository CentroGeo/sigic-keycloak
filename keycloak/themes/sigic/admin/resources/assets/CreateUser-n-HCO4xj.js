import{jsx as t,jsxs as v,Fragment as w}from"react/jsx-runtime";import{u as y,a as V,V as b,b as j,d as A,l as E,j as F,y as G,P,q as R,bR as x,e$ as N,f0 as M}from"./main-Dml5vH_M.js";import{useState as c}from"react";import{V as S}from"./ViewHeader-CnGpO8mW.js";import{U as k,t as q}from"./UserForm-D8nvs5TZ.js";/* empty css                     */import"react-dom";import"./SwitchControl-DVIXTwQM.js";import"./FormAccess-Dgk035ov.js";import"./GroupPickerDialog-eQJqBPQt.js";import"./DataListItemRow-B3J1tfyO.js";import"./useFormatDate-Puc65BKQ.js";import"./CopyToClipboardButton-BjKMP6CQ.js";function X(){const{adminClient:o}=y(),{t:r}=V(),{addAlert:l,addError:p}=b(),u=j(),{realm:i,realmRepresentation:n}=A(),m=E({mode:"onChange"}),[f,g]=c([]),[d,U]=c();F(()=>o.users.getProfileMetadata({realm:i}),a=>{if(!a)throw new Error(r("notFound"));U(a)},[]);const h=async a=>{try{const e=await o.users.create({...q(a),groups:f.map(s=>s.path),enabled:!0});l(r("userCreated"),R.success),u(x({id:e.id,realm:i,tab:"settings"}))}catch(e){N(e)?M(e,m.setError,(s,C)=>r(s,C)):p("userCreateError",e)}};return!n||!d?t(G,{}):v(w,{children:[t(S,{titleKey:r("createUser"),className:"kc-username-view-header"}),t(P,{variant:"light",children:t(k,{form:m,realm:n,userProfileMetadata:d,onGroupsUpdate:g,save:h})})]})}export{X as default};
//# sourceMappingURL=CreateUser-n-HCO4xj.js.map
