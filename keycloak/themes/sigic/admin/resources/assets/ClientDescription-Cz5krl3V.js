import{jsxs as l,Fragment as A,jsx as e}from"react/jsx-runtime";import{a as E,Z as D,a$ as G,K as k,N as c,S as w,b1 as s,O as d,bO as S,bP as h,bu as u,bv as n,ca as b,b0 as F,Y as z,aK as y}from"./main-Dml5vH_M.js";import{D as I}from"./SwitchControl-DVIXTwQM.js";import{F as T}from"./FormAccess-Dgk035ov.js";const O=({unWrap:m,protocol:i})=>{const{t:a}=E(),{control:r,watch:f,setValue:g}=D(),v=i||f("protocol"),o=f("publicClient"),C=f("authorizationServicesEnabled"),x=G();return l(T,{isHorizontal:!0,role:"manage-clients",unWrap:m,className:"keycloak__capability-config__form","data-testid":"capability-config-form",children:[v==="openid-connect"&&l(A,{children:[e(k,{hasNoPaddingTop:!0,label:a("clientAuthentication"),fieldId:"kc-authentication",labelIcon:e(d,{helpText:a("authenticationHelp"),fieldLabelId:"authentication"}),children:e(c,{name:"publicClient",defaultValue:!1,control:r,render:({field:t})=>e(w,{"data-testid":"authentication",id:"kc-authentication",label:a("on"),labelOff:a("off"),isChecked:!t.value,onChange:(H,p)=>{t.onChange(!p),p||(g("authorizationServicesEnabled",!1),g("serviceAccountsEnabled",!1),g(s("attributes.oidc.ciba.grant.enabled"),!1),g(s("attributes.standard.token.exchange.enabled"),!1))},"aria-label":a("clientAuthentication")})})}),e(k,{hasNoPaddingTop:!0,label:a("clientAuthorization"),fieldId:"kc-authorization",labelIcon:e(d,{helpText:a("authorizationHelp"),fieldLabelId:"authorization"}),children:e(c,{name:"authorizationServicesEnabled",defaultValue:!1,control:r,render:({field:t})=>e(w,{"data-testid":"authorization",id:"kc-authorization-switch",label:a("on"),labelOff:a("off"),isChecked:t.value&&!o,onChange:(H,p)=>{t.onChange(p),p&&g("serviceAccountsEnabled",!0)},isDisabled:o,"aria-label":a("clientAuthorization")})})}),e(k,{hasNoPaddingTop:!0,label:a("authenticationFlow"),fieldId:"kc-flow",children:l(S,{id:"authenticationFlowGrid",hasGutter:!0,children:[e(h,{lg:4,sm:6,children:e(c,{name:"standardFlowEnabled",defaultValue:!0,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"standard",label:a("standardFlow"),id:"kc-flow-standard",isChecked:t.value?.toString()==="true",onChange:t.onChange})}),e(n,{children:e(d,{helpText:a("standardFlowHelp"),fieldLabelId:"standardFlow"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:"directAccessGrantsEnabled",defaultValue:!1,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"direct",label:a("directAccess"),id:"kc-flow-direct",isChecked:t.value,onChange:t.onChange})}),e(n,{children:e(d,{helpText:a("directAccessHelp"),fieldLabelId:"directAccess"})})]})})}),e(h,{lg:4,sm:6,children:e(c,{name:"implicitFlowEnabled",defaultValue:!0,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"implicit",label:a("implicitFlow"),id:"kc-flow-implicit",isChecked:t.value?.toString()==="true",onChange:t.onChange})}),e(n,{children:e(d,{helpText:a("implicitFlowHelp"),fieldLabelId:"implicitFlow"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:"serviceAccountsEnabled",defaultValue:!1,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"service-account",label:a("serviceAccount"),id:"kc-flow-service-account",isChecked:t.value?.toString()==="true"||o&&C,onChange:t.onChange,isDisabled:o&&!C||!o&&C})}),e(n,{children:e(d,{helpText:a("serviceAccountHelp"),fieldLabelId:"serviceAccount"})})]})})}),x(F.StandardTokenExchangeV2)&&e(h,{lg:8,sm:6,children:e(c,{name:s("attributes.standard.token.exchange.enabled"),defaultValue:!1,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"standard-token-exchange-enabled",label:a("standardTokenExchangeEnabled"),id:"kc-standard-token-exchange-enabled",name:"standard-token-exchange-enabled",isChecked:t.value.toString()==="true"&&!o,onChange:t.onChange,isDisabled:o})}),e(n,{children:e(d,{helpText:a("standardTokenExchangeEnabledHelp"),fieldLabelId:"standardTokenExchangeEnabled"})})]})})}),x(F.DeviceFlow)&&e(h,{lg:8,sm:6,children:e(c,{name:s("attributes.oauth2.device.authorization.grant.enabled"),defaultValue:!1,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"oauth-device-authorization-grant",label:a("oauthDeviceAuthorizationGrant"),id:"kc-oauth-device-authorization-grant",name:"oauth2.device.authorization.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange})}),e(n,{children:e(d,{helpText:a("oauthDeviceAuthorizationGrantHelp"),fieldLabelId:"oauthDeviceAuthorizationGrant"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:s("attributes.oidc.ciba.grant.enabled"),defaultValue:!1,control:r,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"oidc-ciba-grant",label:a("oidcCibaGrant"),id:"kc-oidc-ciba-grant",name:"oidc.ciba.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange,isDisabled:o})}),e(n,{children:e(d,{helpText:a("oidcCibaGrantHelp"),fieldLabelId:"oidcCibaGrant"})})]})})})]})})]}),v==="saml"&&l(A,{children:[e(I,{name:s("attributes.saml.encrypt"),label:a("encryptAssertions"),labelIcon:a("encryptAssertionsHelp")}),e(I,{name:s("attributes.saml.client.signature"),label:a("clientSignature"),labelIcon:a("clientSignatureHelp")})]})]})},P=({hasConfigureAccess:m})=>{const{t:i}=E();return l(T,{role:"manage-clients",fineGrainedAccess:m,unWrap:!0,children:[e(z,{name:"clientId",label:i("clientId"),labelIcon:i("clientIdHelp"),rules:{required:i("required")}}),e(z,{name:"name",label:i("name"),labelIcon:i("clientNameHelp")}),e(y,{name:"description",label:i("description"),labelIcon:i("clientDescriptionHelp"),rules:{maxLength:{value:255,message:i("maxLength",{length:255})}}}),e(I,{name:"alwaysDisplayInConsole",label:i("alwaysDisplayInUI"),labelIcon:i("alwaysDisplayInUIHelp")})]})};export{P as C,O as a};
//# sourceMappingURL=ClientDescription-Cz5krl3V.js.map
