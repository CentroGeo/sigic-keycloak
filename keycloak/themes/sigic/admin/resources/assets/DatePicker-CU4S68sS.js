import{as as Te,cL as xe,ar as Y,h as Fe,cF as Ae,bu as Re,bv as ie,ag as Oe,aj as Le,ah as He,ai as Ye,a1 as Ie,b5 as je,at as Ve,C as $e,b4 as we,ds as ke,dC as qe,dD as ze}from"./main-Dml5vH_M.js";import*as l from"react";import n,{useEffect as Ce,useImperativeHandle as Be}from"react";const h=r=>!!(r&&!isNaN(r)),s={calendarMonth:"pf-v5-c-calendar-month",calendarMonthCalendar:"pf-v5-c-calendar-month__calendar",calendarMonthDate:"pf-v5-c-calendar-month__date",calendarMonthDatesCell:"pf-v5-c-calendar-month__dates-cell",calendarMonthDatesRow:"pf-v5-c-calendar-month__dates-row",calendarMonthDay:"pf-v5-c-calendar-month__day",calendarMonthDays:"pf-v5-c-calendar-month__days",calendarMonthHeader:"pf-v5-c-calendar-month__header",calendarMonthHeaderMonth:"pf-v5-c-calendar-month__header-month",calendarMonthHeaderNavControl:"pf-v5-c-calendar-month__header-nav-control",calendarMonthHeaderYear:"pf-v5-c-calendar-month__header-year",modifiers:{prevMonth:"pf-m-prev-month",nextMonth:"pf-m-next-month",current:"pf-m-current",inRange:"pf-m-in-range",startRange:"pf-m-start-range",endRange:"pf-m-end-range",adjacentMonth:"pf-m-adjacent-month",selected:"pf-m-selected",disabled:"pf-m-disabled",hover:"pf-m-hover"}};var _e;(function(r){r[r.Sunday=0]="Sunday",r[r.Monday=1]="Monday",r[r.Tuesday=2]="Tuesday",r[r.Wednesday=3]="Wednesday",r[r.Thursday=4]="Thursday",r[r.Friday=5]="Friday",r[r.Saturday=6]="Saturday"})(_e||(_e={}));const Ke=(r,i,R,I)=>{const y=new Date(r,i),d=new Date(y);d.setDate(d.getDate()-d.getDay()+R);const w=[];d.getMonth()===y.getMonth()&&d.getDate()!==1&&d.setDate(d.getDate()-7);for(let k=0;k<6;k++){const M=[];for(let C=0;C<7;C++){const j=new Date(d);M.push({date:j,isValid:I.every(_=>_(j))}),d.setDate(d.getDate()+1)}if(w.push(M),d.getMonth()!==y.getMonth())break}return w},$=(r,i)=>r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()&&r.getDate()===i.getDate(),Me=new Date,Ne=r=>{var{date:i,locale:R=void 0,monthFormat:I=e=>e.toLocaleDateString(R,{month:"long"}),weekdayFormat:y=e=>e.toLocaleDateString(R,{weekday:"narrow"}),longWeekdayFormat:d=e=>e.toLocaleDateString(R,{weekday:"long"}),dayFormat:w=e=>e.getDate(),weekStart:k=0,onChange:M=()=>{},validators:C=[()=>!0],className:j,onSelectToggle:_=()=>{},onMonthChange:q=()=>{},rangeStart:b,prevMonthAriaLabel:m="Previous month",nextMonthAriaLabel:Q="Next month",yearInputAriaLabel:de="Select year",cellAriaLabel:Z,isDateFocused:W=!1,inlineProps:T}=r,ue=Te(r,["date","locale","monthFormat","weekdayFormat","longWeekdayFormat","dayFormat","weekStart","onChange","validators","className","onSelectToggle","onMonthChange","rangeStart","prevMonthAriaLabel","nextMonthAriaLabel","yearInputAriaLabel","cellAriaLabel","isDateFocused","inlineProps"]);const me=[0,1,2,3,4,5,6,7,8,9,10,11].map(e=>new Date(1990,e)).map(I),[z,N]=n.useState(!1),he=h(i)?i:h(b)?b:Me,[u,S]=n.useState(he),f=e=>e.getFullYear(),V=f(u),[E,P]=n.useState(V.toString()),[v,g]=n.useState(void 0),D=n.useRef(),[F]=n.useState(xe("hidden-month-span")),[te,x]=n.useState(!1),A=e=>C.every(t=>t(e)),B=A(u);Ce(()=>{h(i)&&!$(u,i)?S(i):i||S(Me)},[i]),Ce(()=>{(te||W)&&B&&D.current&&D.current.focus()},[u,W,B,D]);const ae=(e,t)=>{S(t),x(!1),q(e,t),P(f(t).toString())},ne=e=>{const t=new Date(u);e.key==="ArrowUp"?t.setDate(t.getDate()-7):e.key==="ArrowRight"?t.setDate(t.getDate()+1):e.key==="ArrowDown"?t.setDate(t.getDate()+7):e.key==="ArrowLeft"&&t.setDate(t.getDate()-1),t.getTime()!==u.getTime()&&A(t)&&(e.preventDefault(),S(t),x(!0))},fe=e=>K(u.getMonth(),e),K=(e,t)=>new Date(t??u.getFullYear(),e,1),U=1900,pe=2100,oe=(e,t)=>{if(/^\d{0,4}$/.test(t)&&(P(t),t.length===4)){const o=Number(t);if(o>=U&&o<=pe){const a=fe(o);S(a),x(!1),e.target.focus(),q(e,a)}else P(V.toString())}},re=e=>{let t=u.getMonth()+e,o=u.getFullYear();return t===-1?(t=11,o--):t===12&&(t=0,o++),K(t,o)},G=re(-1),O=re(1),se=u.getFullYear(),X=u.getMonth(),J=n.useMemo(()=>Ke(se,X,k,C),[se,X,k,C]);if(!B){const e=J.reduce((t,o)=>[...t,...o],[]).filter(({date:t,isValid:o})=>o&&t.getMonth()===X).map(({date:t})=>({date:t,days:Math.abs(u.getTime()-t.getTime())})).sort((t,o)=>t.days-o.days).map(({date:t})=>t)[0];e&&S(e)}const ge=v&&A(v),L=I(u),le=n.createElement("div",Object.assign({className:Y(s.calendarMonth,j)},ue),n.createElement("div",{className:s.calendarMonthHeader},n.createElement("div",{className:Y(s.calendarMonthHeaderNavControl,s.modifiers.prevMonth)},n.createElement(Fe,{variant:"plain","aria-label":m,onClick:e=>ae(e,G)},n.createElement(Ae,{"aria-hidden":!0}))),n.createElement(Re,null,n.createElement(ie,{isFill:!0},n.createElement("div",{className:s.calendarMonthHeaderMonth},n.createElement("span",{id:F,hidden:!0},"Month"),n.createElement(Oe,{toggle:e=>n.createElement(Le,{ref:e,onClick:()=>N(!z),isExpanded:z,style:{width:"140px"}},L),"aria-labelledby":F,isOpen:z,onOpenChange:e=>{N(e),_(e)},onSelect:(e,t)=>{setTimeout(()=>{N(!1),_(!1);const o=K(Number(t));S(o),x(!1),q(e,o)},0)},selected:L},n.createElement(He,null,me.map((e,t)=>n.createElement(Ye,{key:t,value:t,isSelected:e===L},e)))))),n.createElement(ie,null,n.createElement("div",{className:s.calendarMonthHeaderYear},n.createElement(Ie,{"aria-label":de,type:"number",value:E,onChange:oe})))),n.createElement("div",{className:Y(s.calendarMonthHeaderNavControl,s.modifiers.nextMonth)},n.createElement(Fe,{variant:"plain","aria-label":Q,onClick:e=>ae(e,O)},n.createElement(je,{"aria-hidden":!0})))),n.createElement("table",{className:s.calendarMonthCalendar,onMouseLeave:()=>g(void 0)},n.createElement("thead",{className:s.calendarMonthDays},n.createElement("tr",null,J[0].map(({date:e},t)=>n.createElement("th",{key:t,className:s.calendarMonthDay,scope:"col"},n.createElement("span",{className:"pf-v5-screen-reader"},d(e)),n.createElement("span",{"aria-hidden":!0},y(e)))))),n.createElement("tbody",{onKeyDown:ne},J.map((e,t)=>n.createElement("tr",{key:t,className:s.calendarMonthDatesRow},e.map(({date:o,isValid:a},c)=>{const p=w(o),De=$(o,Me),Se=h(i)&&$(o,i),Ee=$(o,u),Pe=o.getMonth()!==u.getMonth(),ve=h(b)&&$(o,b);let ye=!1,ce=!1;if(h(b)){let H;h(i)&&(H=i),ge&&(!h(i)||v>i)&&(H=v),H&&(ye=o>=b&&o<=H,ce=$(o,H))}return n.createElement("td",{key:c,className:Y(s.calendarMonthDatesCell,Pe&&s.modifiers.adjacentMonth,De&&s.modifiers.current,(Se||ve)&&s.modifiers.selected,!a&&!(ye||ve||ce||Se)&&s.modifiers.disabled,ye&&s.modifiers.inRange,ve&&s.modifiers.startRange,ce&&s.modifiers.endRange)},n.createElement("button",Object.assign({className:Y(s.calendarMonthDate,ce&&s.modifiers.hover,!a&&s.modifiers.disabled),type:"button",onClick:H=>M(H,o),onMouseOver:()=>g(o),tabIndex:Ee?0:-1,disabled:!a,"aria-label":Z?Z(o):`${w(o)} ${I(o)} ${f(o)}`},Ee&&{ref:D}),p))}))))));if(T!==void 0){const e=T.component?T.component:"article";return n.createElement(e,Object.assign({},T.ariaLabelledby&&{"aria-labelledby":T.ariaLabelledby}),T.title,le)}return le};Ne.displayName="CalendarMonth";const be={datePicker:"pf-v5-c-date-picker",datePickerHelperText:"pf-v5-c-date-picker__helper-text",datePickerInput:"pf-v5-c-date-picker__input"},Ue={name:"OutlinedCalendarAltIcon",height:512,width:448,svgPath:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z",yOffset:0,xOffset:0},Ge=Ve(Ue),Xe={name:"--pf-v5-c-date-picker__input--c-form-control--width-chars"},Je=r=>`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`,Qe=(r,i)=>{var{className:R,locale:I=void 0,dateFormat:y=Je,dateParse:d=a=>a.split("-").length===3?new Date(`${a}T00:00:00`):new Date(void 0),isDisabled:w=!1,placeholder:k="YYYY-MM-DD",value:M="","aria-label":C="Date picker",buttonAriaLabel:j="Toggle date picker",onChange:_=()=>{},onBlur:q=()=>{},invalidFormatText:b="Invalid date",requiredDateOptions:m,helperText:Q,appendTo:de="inline",popoverProps:Z,monthFormat:W,weekdayFormat:T,longWeekdayFormat:ue,dayFormat:me,weekStart:z,validators:N=[],rangeStart:ee,style:he={},inputProps:u={}}=r,S=Te(r,["className","locale","dateFormat","dateParse","isDisabled","placeholder","value","aria-label","buttonAriaLabel","onChange","onBlur","invalidFormatText","requiredDateOptions","helperText","appendTo","popoverProps","monthFormat","weekdayFormat","longWeekdayFormat","dayFormat","weekStart","validators","rangeStart","style","inputProps"]);const[f,V]=l.useState(M),[E,P]=l.useState(d(f)),[v,g]=l.useState(""),[D,F]=l.useState(!1),[te,x]=l.useState(!1),[A,B]=l.useState(!0),[ae,ne]=l.useState(!1),fe=l.useMemo(()=>Math.max(y(new Date).length,k.length),[y]),K=Object.assign({[Xe.name]:fe},he),U=l.useRef(),pe=l.useRef(),oe=l.useRef(),re=m?.isRequired||!1,G=m?.emptyDateText||"Date cannot be blank";l.useEffect(()=>{V(M),P(d(M))},[M]),l.useEffect(()=>{h(E)&&O(E)},[N]),l.useEffect(()=>{B(!f);const a=d(f);v&&h(a)&&O(a),f===""&&!A&&!ae&&g(re?G:"")},[f]);const O=a=>{g(N.map(c=>c(a)).join(`
`)||"")},se=(a,c)=>{V(c),g("");const p=d(c);P(p),h(p)?_(a,c,new Date(p)):_(a,c)},X=a=>{ne(!1);const c=d(f),p=h(c),De=p?new Date(c):void 0;q(a,f,De),p&&O(c),!p&&!A&&g(b),!p&&A&&m?.isRequired&&g(G)},J=(a,c)=>{const p=y(c);V(p),P(c),O(c),F(!1),_(null,p,new Date(c))},ge=a=>{a.key==="Enter"&&f&&(h(E)?O(E):g(b))};Be(i,()=>({setCalendarOpen:a=>F(a),toggleCalendar:a=>{F(c=>a!==void 0?a:!c)},isCalendarOpen:D}),[F,D,te]);const L=a=>`.${s.calendarMonthDatesCell}.${a} .${s.calendarMonthDate}`,le=L(s.modifiers.selected),e=L(`${s.modifiers.selected}.${s.modifiers.endRange}`),t=L(s.modifiers.current),o=()=>h(E)&&h(ee)?e:h(E)||h(ee)?le:t;return l.createElement("div",Object.assign({className:Y(be.datePicker,R),ref:pe,style:K},S),l.createElement($e,Object.assign({elementToFocus:o(),position:"bottom",bodyContent:l.createElement(Ne,{date:E,onChange:J,locale:I,validators:N.map(a=>c=>!a(c)),onSelectToggle:a=>x(a),monthFormat:W,weekdayFormat:T,longWeekdayFormat:ue,dayFormat:me,weekStart:z,rangeStart:ee}),showClose:!1,isVisible:D,shouldClose:(a,c)=>(a=a,a.key===we.Escape&&te?(a.stopPropagation(),x(!1),!1):U.current&&U.current.contains(a.target)?!1:(D&&(a.stopPropagation(),F(!1),c(),m?.isRequired&&!f&&g(G)),a.key===we.Escape&&D&&a.stopPropagation(),!0)),withFocusTrap:!0,hasNoPadding:!0,hasAutoWidth:!0,appendTo:de,triggerRef:oe},Z),l.createElement("div",{className:be.datePickerInput,ref:oe},l.createElement(Re,null,l.createElement(ie,null,l.createElement(Ie,Object.assign({isDisabled:w,isRequired:m?.isRequired,"aria-label":C,placeholder:k,validated:v.trim()?"error":"default",value:f,onChange:se,onBlur:X,onFocus:()=>ne(!0),onKeyPress:ge},u))),l.createElement(ie,null,l.createElement("button",{ref:U,className:Y(ke.button,ke.modifiers.control),"aria-label":j,type:"button",onClick:()=>F(!D),disabled:w},l.createElement(Ge,null)))))),(v||Q)&&l.createElement("div",{className:be.datePickerHelperText},v?l.createElement(qe,null,l.createElement(ze,{variant:"error"},v)):Q))},Ze=l.forwardRef(Qe);Ze.displayName="DatePicker";export{Ze as D,be as d};
//# sourceMappingURL=DatePicker-CU4S68sS.js.map
