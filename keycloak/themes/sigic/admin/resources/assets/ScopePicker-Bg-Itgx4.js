import{jsx as n,jsxs as q,Fragment as F}from"react/jsx-runtime";import{u as y,a as I,Z as O,j as P,y as j,K as T,N as z,bn as G,bo as L,a5 as R,O as k,ai as w}from"./main-Dml5vH_M.js";import{useState as c}from"react";import{u as H}from"./useIsAdminPermissionsClient-IDuSpu5V.js";const Z=({clientId:m,resourceTypeScopes:r})=>{const{adminClient:S}=y(),{t:a}=I(),{control:f,formState:{errors:C}}=O(),[x,b]=c(!1),[p,v]=c(),[u,d]=c(""),o=H(m);P(()=>{const e={id:m,first:0,max:20,deep:!1,name:u};return S.clients.listAllScopes(e)},v,[u]);const h=e=>e.map((t,s)=>n(w,{value:t,children:typeof t=="string"?t:t.name},s));if(!p&&!r)return n(j,{});const g=o&&r?r:p?.map(e=>e.name);return n(T,{label:a("authorizationScopes"),labelIcon:n(k,{helpText:a("clientScopesHelp"),fieldLabelId:"scopes"}),fieldId:"scopes",isRequired:o,children:n(z,{name:"scopes",defaultValue:[],control:f,rules:o?{required:a("requiredField")}:{},render:({field:e})=>{const t=e.value.map(s=>s.name);return q(F,{children:[n(G,{toggleId:"scopes",variant:L.typeaheadMulti,chipGroupProps:{numChips:3,expandedText:a("hide"),collapsedText:a("showRemaining")},onToggle:s=>b(s),isOpen:x,selections:t,onFilter:s=>(d(s),h(g||[])),onSelect:s=>{const i=typeof s=="string"?s:s.name,A=e.value.find(l=>l.name===i)?e.value.filter(l=>l.name!==i):[...e.value,{name:i}];e.onChange(A)},onClear:()=>{d(""),e.onChange([])},typeAheadAriaLabel:a("authorizationScopes"),children:h(g||[])}),o&&C.scopes&&n(R,{message:a("required")})]})}})})};export{Z as S};
//# sourceMappingURL=ScopePicker-Bg-Itgx4.js.map
