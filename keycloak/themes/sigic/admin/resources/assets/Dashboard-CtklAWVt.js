import{jsx as e,jsxs as r,Fragment as A}from"react/jsx-runtime";import{as as re,cb as k,ar as C,a as L,e as Z,P as u,cc as te,aM as M,bm as ie,au as w,aG as U,aN as V,aL as y,d as G,b$ as ne,cd as ee,a9 as se,aa as H,ad as le,y as ce,E as oe,G as W,ce as K,aA as de,H as me,h as _,al as E,bO as he,bP as Y,bI as q,bM as N,bJ as x,O as z,cf as J,cg as X,ch as pe,ap as O}from"./main-Dml5vH_M.js";import*as j from"react";import{useState as $,useMemo as I}from"react";import{u as be,R as fe}from"./RoutableTabs-D0MTj5jQ.js";import{u as ue,m as ve}from"./useLocaleSort-DeXbTEE9.js";import{E as ge}from"./ExpandableSection-CRQBD4mp.js";import{a as B,b as F}from"./Tabs-swfKYDgo.js";import{D as S,a as D,b,c as f}from"./DescriptionListTerm-DCQWux3S.js";import{A as Te,a as P}from"./KeySelect-Ba6sDuzD.js";import"react-dom";import"./PageHandler-BQ1_55gR.js";import"./DynamicComponents-Cxsqsl9R.js";import"./ClientSelect-DJq4F1jh.js";import"./FileUpload-B3CkDAbJ.js";import"./GroupPickerDialog-eQJqBPQt.js";import"./DataListItemRow-B3J1tfyO.js";import"./MultiLineInput-BnUu5qtj.js";import"./AddRoleMappingModal-FlNvMd3n.js";import"./translationFormatter-DtFomvax.js";import"./ConfirmDialog-BN0phSta.js";import"./filter-icon-BO7Evf9d.js";import"./CodeEditor-C7HQ48Ys.js";import"./useParams-Cmi1OAEj.js";import"./constants-BclHbWtx.js";const R={brand:"pf-v5-c-brand",modifiers:{picture:"pf-m-picture"}},ye={name:"--pf-v5-c-brand--Height"},_e={name:"--pf-v5-c-brand--Width"},ae=a=>{var{className:t="",src:d="",alt:i,children:l,widths:o,heights:h,style:p}=a,n=re(a,["className","src","alt","children","widths","heights","style"]);let c;return o!==void 0&&(c=Object.assign({},k(o,_e.name))),h!==void 0&&(c=Object.assign(Object.assign({},c),k(h,ye.name))),l!==void 0?j.createElement("picture",Object.assign({className:C(R.brand,R.modifiers.picture,t),style:Object.assign(Object.assign({},p),c)},n),l,j.createElement("img",{src:d,alt:i})):j.createElement("img",Object.assign({},n,{className:C(R.brand,t),style:Object.assign(Object.assign({},p),c),src:d,alt:i}))};ae.displayName="Brand";var v;(function(a){a.Default="DEFAULT",a.DisabledByDefault="DISABLED_BY_DEFAULT",a.Preview="PREVIEW",a.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",a.Experimental="EXPERIMENTAL",a.Deprecated="DEPRECATED"})(v||(v={}));const Ee=()=>{const{t:a}=L(),t=Z(),[d,i]=$(""),[l,o]=$([]),h=I(()=>Object.entries(t.providers||[]).filter(([n])=>n.toLowerCase().includes(d.toLowerCase())),[d]),p=n=>{l.includes(n)?o(l.filter(c=>c!==n)):o([...l,n])};return e(u,{variant:"light",children:e(te,{inputGroupName:"search",inputGroupPlaceholder:a("search"),inputGroupOnEnter:i,children:r(M,{variant:"compact",children:[e(ie,{children:r(w,{children:[e(U,{width:20,children:a("spi")}),e(U,{children:a("providers")})]})}),e(V,{children:h.map(([n,{providers:c}])=>r(w,{children:[e(y,{children:n}),e(y,{children:e("ul",{children:Object.entries(c).map(([m,{operationalInfo:g}])=>r("li",{children:[m,g?e(ge,{isExpanded:l.includes(m),onToggle:()=>p(m),toggleText:l.includes(m)?a("showLess"):a("showMore"),children:e(M,{borders:!1,children:e(V,{children:Object.entries(g).map(([T,s])=>r(w,{children:[e(y,{children:T}),e(y,{children:s})]},T))})})},m):null]},m))})})]},n))})]})})})},De=()=>{const{environment:a}=ne(),{t}=L(),{realm:d,realmRepresentation:i}=G(),l=a.logo?a.logo:"/icon.svg",o=ee(t,i?.displayName,d);return e(u,{variant:"light",children:r(se,{variant:"lg",children:[e(ae,{src:a.resourceUrl+l,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(H,{titleText:e(A,{children:t("welcome")}),headingLevel:"h2"}),e(H,{titleText:o,headingLevel:"h1"}),e(le,{children:t("introduction")})]})})},Q=({feature:a})=>{const{t}=L();return r(pe,{className:"pf-v5-u-mb-sm",children:[a.name,"Â ",a.type===v.Experimental&&e(O,{color:"orange",children:t("experimental")}),a.type===v.Preview&&e(O,{color:"blue",children:t("preview")}),a.type===v.Default&&e(O,{color:"green",children:t("supported")})]})},Ie=()=>{const{t:a}=L(),{realm:t,realmRepresentation:d}=G(),i=Z(),l=ue(),o=I(()=>l(i.features??[],ve("name")),[i.features]),h=I(()=>o.filter(s=>!s.enabled)||[],[i.features]),p=I(()=>o.filter(s=>s.enabled)||[],[i.features]),n=s=>be(K({realm:t,tab:s})),c=ee(a,d?.displayName,t),m=n("welcome"),g=n("info"),T=n("providers");return Object.keys(i).length===0?e(ce,{}):r(A,{children:[e(u,{variant:"light",children:e(oe,{className:"pf-v5-u-mr-sm",children:e(W,{component:"h1",children:a("realmNameTitle",{name:t})})})}),e(u,{variant:"light",className:"pf-v5-u-p-0",children:r(fe,{"data-testid":"dashboard-tabs",defaultLocation:K({realm:t,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(B,{id:"welcome","data-testid":"welcomeTab",title:e(F,{children:a("welcomeTabTitle")}),...m,children:e(u,{variant:"light",children:r("div",{className:"pf-v5-l-grid pf-v5-u-ml-lg",children:[e("div",{className:"pf-v5-l-grid__item pf-m-12-col",children:e(de,{"data-testid":"welcomeTitle",className:"pf-v5-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:a("welcomeTo",{realmDisplayInfo:c})})}),e("div",{className:"pf-v5-l-grid__item keycloak__dashboard_welcome_tab",children:e(W,{component:me.h3,children:a("welcomeText")})}),e("div",{className:"pf-v5-l-grid__item pf-m-10-col pf-v5-u-mt-md",children:e(_,{className:"pf-v5-u-px-lg pf-v5-u-py-sm",component:"a",href:E.documentation,target:"_blank",variant:"primary",children:a("viewDocumentation")})}),r(Te,{className:"pf-v5-u-mt-sm",children:[e(P,{children:e(_,{component:"a",href:E.guides,target:"_blank",variant:"tertiary",children:a("viewGuides")})}),e(P,{children:e(_,{component:"a",href:E.community,target:"_blank",variant:"tertiary",children:a("joinCommunity")})}),e(P,{children:e(_,{component:"a",href:E.blog,target:"_blank",variant:"tertiary",children:a("readBlog")})})]})]})})}),e(B,{id:"info","data-testid":"infoTab",title:e(F,{children:a("serverInfo")}),...g,children:e(u,{variant:"light",children:r(he,{hasGutter:!0,children:[e(Y,{lg:2,sm:12,children:r(q,{className:"keycloak__dashboard_card",children:[e(N,{children:a("serverInfo")}),e(x,{children:e(S,{children:r(D,{children:[e(b,{children:a("version")}),e(f,{children:i.systemInfo?.version})]})})}),e(N,{children:a("memory")}),e(x,{children:e(S,{children:r(D,{children:[e(b,{children:a("totalMemory")}),e(f,{children:i.memoryInfo?.totalFormated}),e(b,{children:a("freeMemory")}),e(f,{children:i.memoryInfo?.freeFormated}),e(b,{children:a("usedMemory")}),e(f,{children:i.memoryInfo?.usedFormated})]})})})]})}),e(Y,{lg:10,sm:12,children:r(q,{className:"keycloak__dashboard_card",children:[e(N,{children:a("profile")}),e(x,{children:r(S,{children:[r(D,{children:[r(b,{children:[a("enabledFeatures")," ",e(z,{fieldLabelId:"enabledFeatures",helpText:a("infoEnabledFeatures")})]}),e(f,{children:e(J,{variant:X.inline,children:p.map(s=>e(Q,{feature:s},s.name))})})]}),r(D,{children:[r(b,{children:[a("disabledFeatures")," ",e(z,{fieldLabelId:"disabledFeatures",helpText:a("infoDisabledFeatures")})]}),e(f,{children:e(J,{variant:X.inline,children:h.map(s=>e(Q,{feature:s},s.name))})})]})]})})]})})]})})}),e(B,{id:"providers","data-testid":"providersTab",title:e(F,{children:a("providerInfo")}),...T,children:e(Ee,{})})]})})]})};function Je(){const{realm:a}=G(),t=a==="master";return r(A,{children:[!t&&e(De,{}),t&&e(Ie,{})]})}export{Je as default};
//# sourceMappingURL=Dashboard-CtklAWVt.js.map
